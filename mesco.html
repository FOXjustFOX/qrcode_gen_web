<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="styles_m.css" />
  </head>
  <body>
    <div class="section-container">
      <p class="section-title">Grafika:</p>
      <div id="image-container">
        <form method="post" enctype="multipart/form-data">
          <label for="bg-image" id="icon-image">[icon]<input type="file" id="bg-image" name="bg-image" accept=".jpg, .jpeg, .png" /></label>
        </form>
      </div>
    </div>
  </body>
  <script>
    const label = document.querySelector("#icon-image");
    const input = document.querySelector("#bg-image");
    const imageContainer = document.querySelector("#image-container");

    input.addEventListener("change", updateImageDisplay);

    function updateImageDisplay() {
      const file = input.files[0];
      if (validFileType(file)) {
        imageContainer.style.backgroundImage = `url(${URL.createObjectURL(file)})`;
      }
    }

    const fileTypes = ["image/apng", "image/bmp", "image/gif", "image/jpeg", "image/pjpeg", "image/png", "image/svg+xml", "image/tiff", "image/webp", "image/x-icon"];
    function validFileType(file) {
      return fileTypes.includes(file.type);
    }
  </script>
</html>
